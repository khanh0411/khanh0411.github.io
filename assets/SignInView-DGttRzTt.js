import{_ as F,r as i,s as R,l as u,j as p,o as x,a as o,k as l,u as h,m as f,R as _,b as S,A as V,W as T,c5 as B,c as I,t as A,z as G,I as K,ce as N,S as U,cf as j}from"./index-Cww7t7_x.js";import{u as O,i as q,a as D}from"./auth.store-DqASw5e-.js";const M={class:"mx-7 text-sm font-medium"},W={class:"mt-8"},Y={class:"mt-5"},z={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"},H={class:"bg-white border border-gray-300 rounded-xl shadow-lg p-6 max-w-sm w-full"},J={__name:"SignInView",setup(Q){const{notify:c}=j(),v=O(),g={email:"",password:""},t=i({email:"",password:""}),a=i({...g}),d=i(!1),r=i(!1),m=i("");async function w(){let s=!0;if(a.value={...g},t.value.email.trim()===""?(a.value.email="This field is required",s=!1):q(t.value.email.trim())||(a.value.email="This field is not in email format",s=!1),t.value.password.trim()===""?(a.value.password="This field is required",s=!1):D(t.value.password.trim())||(a.value.password="Passwords need to be 8 characters or more and have a combination of uppercase letters, lowercase letters, numbers and symbols.",s=!1),s){r.value=!0;const e=await v.handleLogin(t.value);r.value=!1,e.user?window.location.replace(f.home.path):e.errors&&c({text:e.errors,type:"error"})}}function k(){d.value=!0}async function E(){r.value=!0;const s=v.handleForgetPassWord(m.value);r.value=!1,console.log(s),s.error?c({text:s.error,type:"error"}):(c({text:"Kiá»ƒm tra email",type:"success"}),m.value="",d.value=!1,N(U.accessToken))}function L(){d.value=!1}return(s,e)=>{const b=p("RouterLink"),y=p("SmallComponent"),C=p("FullScreenLoading"),P=p("GuestLayout");return x(),R(P,null,{default:u(()=>[o("form",{class:"form rounded-lg overflow-hidden w-auto h-auto",onSubmit:T(w,["prevent"]),onKeyup:B(w,["enter"])},[l(b,{to:h(f).signIn.path},{default:u(()=>e[3]||(e[3]=[o("button",{class:"signin-btn"},"Login",-1)])),_:1},8,["to"]),l(b,{to:h(f).signUp.path},{default:u(()=>e[4]||(e[4]=[o("button",{class:"signup-btn"},"Register",-1)])),_:1},8,["to"]),o("div",M,[o("div",W,[e[5]||(e[5]=o("label",null,"Email Address",-1)),l(_,{modelValue:t.value.email,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.email=n),type:"text",placeholder:"Enter your Email..",class:"mt-3 invalid:border-red-500",error:!!a.value.email},null,8,["modelValue","error"]),l(y,null,{default:u(()=>[S(V(a.value.email),1)]),_:1})]),o("div",Y,[e[6]||(e[6]=o("label",null,"Password",-1)),l(_,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.password=n),type:"password",placeholder:"Enter your Password",class:"mt-3 invalid:border-red-500",error:!!a.value.password},null,8,["modelValue","error"]),l(y,null,{default:u(()=>[S(V(a.value.password),1)]),_:1})]),o("div",{onClick:k,class:"cursor-pointer my-5"},"Forgot your password?"),e[7]||(e[7]=o("button",{class:"primary-button !w-full mb-5"},"Log in",-1))])],32),d.value?(x(),I("div",z,[o("div",H,[e[8]||(e[8]=o("h3",{class:"text-xl font-semibold text-center text-gray-700 mb-4"},"Reset Your Password",-1)),e[9]||(e[9]=o("p",{class:"text-sm text-gray-500 mb-4 text-center"},"Enter your email to receive password reset instructions.",-1)),A(o("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=n=>m.value=n),placeholder:"Enter your email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4"},null,512),[[G,m.value]]),o("div",{class:"flex justify-around"},[o("button",{onClick:E,class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300"}," Send Reset Link "),o("button",{onClick:L,class:"bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-all duration-300"}," Cancel ")])])])):K("",!0),l(C,{open:r.value},null,8,["open"])]),_:1})}}},$=F(J,[["__scopeId","data-v-74116544"]]);export{$ as default};
