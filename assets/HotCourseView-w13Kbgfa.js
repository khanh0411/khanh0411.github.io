import{r,i as d,w as k,e as L,c as v,k as m,l as S,A as V,F as _,B as $,E as B,o as g,a as o,x as F,C as T,q,u as D,D as x}from"./index-D8gAyzM3.js";import{C as I,I as M}from"./CourseListView-ljKhrZc_.js";import{u as N}from"./course.store-LCRn9oYB.js";const j={class:"container mx-auto p-6"},A={class:"mb-6 w-full flex justify-center items-center"},E={class:"grid gap-6 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},H={class:"flex justify-center items-center mt-6"},G=["disabled"],Q={class:"mx-2"},R=["disabled"],W={__name:"HotCourseView",setup(U){const C=N(),f=r([]),l=r(""),n=r(!1),s=r(1),i=r(10),u=r(null),p=$(),h=d(()=>f.value.filter(e=>e.name.toLowerCase().includes(l.value.toLowerCase()))),b=d(()=>{const e=(s.value-1)*i.value,a=e+i.value;return h.value.slice(e,a)}),c=d(()=>Math.ceil(h.value.length/i.value));async function w(){n.value=!0;const e=await C.handleGetAllCourse();n.value=!1,e.errors?B({text:e.errors,type:"error"}):f.value=e.data.Hot}function P(){u.value&&clearTimeout(u.value),u.value=setTimeout(()=>{s.value=1},500)}function y(e){e>=1&&e<=c.value&&(s.value=e)}return k(l,P),L(()=>{w(),p.query.search&&(l.value=p.query.search)}),(e,a)=>(g(),v(_,null,[m(I,null,{default:S(()=>[o("div",j,[o("div",A,[F(o("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>l.value=t),type:"text",class:"w-full max-w-3xl p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Search courses by name..."},null,512),[[T,l.value]])]),o("div",E,[(g(!0),v(_,null,q(b.value,t=>(g(),v("div",{key:t.course_id,class:"transform transition duration-300 hover:-translate-y-2 hover:shadow-lg"},[m(D(M),{onClick:z=>e.$router.push(`/course-infor?id=${t.course_id}`),coures_id:t.course_id,name:t.name,title:t.title,image:t.image,cert:t.cert,coursePrice:t.coursePrice,originalPrice:t.originalPrice},null,8,["onClick","coures_id","name","title","image","cert","coursePrice","originalPrice"])]))),128))]),o("div",H,[o("button",{onClick:a[1]||(a[1]=t=>y(s.value-1)),disabled:s.value===1,class:"px-4 py-2 mx-2 bg-gray-200 text-gray-800 rounded disabled:opacity-50"}," Previous ",8,G),o("span",Q,"Page "+x(s.value)+" of "+x(c.value),1),o("button",{onClick:a[2]||(a[2]=t=>y(s.value+1)),disabled:s.value===c.value,class:"px-4 py-2 mx-2 bg-gray-200 text-gray-800 rounded disabled:opacity-50"}," Next ",8,R)])])]),_:1}),m(V,{open:n.value},null,8,["open"])],64))}};export{W as default};
