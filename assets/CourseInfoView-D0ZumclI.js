import{_ as q,B as I,r as g,t as J,S as M,e as O,Z as R,c as n,k as C,l as z,a as e,z as h,F as f,E as u,m as D,j as S,o as r,H as N,D as o,q as B,b as L,T as A,x as G,C as U}from"./index-Cq1q5qQY.js";import{u as W}from"./course.store-NRaWg-ku.js";import{u as X}from"./studentCourse.store-BO8XpEyL.js";const Y={class:"bg-gray-50 min-h-screen py-12"},H={class:"max-w-6xl mx-auto px-4 grid lg:grid-cols-3 gap-10"},K={class:"lg:col-span-2 space-y-8"},Z={class:"absolute bottom-8 left-8 right-8"},$={key:0,class:"bg-yellow-400 text-black px-4 py-1.5 rounded-full text-sm font-bold mb-3 inline-block shadow-lg hover:bg-yellow-300 transition-colors"},Q={key:1,class:"bg-yellow-400 text-black px-4 py-1.5 rounded-full text-sm font-bold mb-3 inline-block shadow-lg hover:bg-yellow-300 transition-colors"},ee={class:"text-4xl font-bold text-white drop-shadow-lg tracking-tight"},te={class:"grid md:grid-cols-3 gap-6"},se={class:"bg-white p-6 rounded-xl shadow-md"},oe={class:"text-gray-600"},le={class:"bg-white p-6 rounded-xl shadow-md"},ne={class:"text-gray-600"},re={class:"bg-white p-6 rounded-xl shadow-md"},ae={class:"text-gray-600"},ie={class:"bg-white p-8 rounded-2xl shadow-md"},de={class:"text-gray-700 leading-relaxed"},ue={class:"bg-blue-50 p-8 rounded-2xl"},ce={class:"flex items-center space-x-4 bg-white p-4 rounded-lg shadow"},be={class:"text-gray-700"},xe={class:"bg-gray-50 min-h-screen py-12"},ge={class:"max-w-6xl mx-auto px-4"},pe={class:"bg-white p-8 rounded-2xl shadow-md"},he={class:"space-y-4"},fe={class:"bg-gray-100 p-4 flex justify-between items-center cursor-pointer"},ye={class:"font-bold text-lg text-gray-800"},me={class:"text-sm text-gray-500"},ve={class:"bg-white space-y-2 p-4"},we={class:"text-gray-700"},_e={class:"lg:col-span-1"},ke={class:"sticky top-8 space-y-6"},Ce={class:"bg-white border border-gray-200 rounded-2xl shadow-xl p-6"},Se={class:"flex items-center justify-between mb-6"},Be={class:"text-4xl font-bold text-blue-600"},Le={class:"text-gray-500 line-through text-xl"},je={class:"space-y-4"},Fe={class:"mt-4"},Pe={class:"mt-6 space-y-4 text-gray-600"},Te={class:"flex items-center space-x-3"},Ee={class:"bg-white p-6 rounded-2xl shadow-md text-center"},Ve={class:"text-xl font-bold text-gray-800"},qe={class:"text-gray-600 mt-2"},Ie={class:"bg-gray-100 p-6 rounded-2xl"},Je={class:"space-y-2 text-gray-700"},Me={class:"flex items-center space-x-2"},Oe={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"},Re={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"},ze={__name:"CourseInfoView",setup(De){const p=I().query,j=W(),F=X(),s=g({}),i=g(!1),c=g(!1),b=g(!1);async function y(){if(!p.id)return;i.value=!0;const l=await j.handleGetCourse(p.id);i.value=!1,l.errors?u({text:l.errors,type:"error"}):s.value={...l.data}}const m=J(M.accessToken);function P(){m?c.value=!0:u({text:"Bạn cần đăng nhập để mua khóa học.",type:"warn"})}function T(){m?b.value=!0:u({text:"Bạn cần đăng nhập để mua khóa học.",type:"warn"})}async function v(){i.value=!0;const l=await F.handleJoinCourseWithCoin(s.value.course_id);i.value=!1,l.errors?u({text:l.errors,type:"error"}):(c.value=!1,b.value=!1,u({text:"Buy course success",type:"success"}),window.location.replace(D.learning.path))}function w(){c.value=!1,b.value=!1}return O(()=>{window.scrollTo(0,0),p.id&&y()}),R((l,t)=>{l.query.id!==t.query.id&&y()}),(l,t)=>{const E=S("MainLayout"),V=S("FullScreenLoading");return r(),n(f,null,[C(E,null,{default:z(()=>{var _,k;return[e("div",Y,[e("div",H,[e("div",K,[e("div",{class:"relative h-96 rounded-2xl overflow-hidden shadow-2xl group hover:shadow-xl transition-all duration-300",style:N({backgroundImage:`url(${s.value.image})`,backgroundSize:"cover",backgroundPosition:"center"})},[t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"},null,-1)),e("div",Z,[s.value.coursePrice!==0?(r(),n("span",$," 27% OFF ")):(r(),n("span",Q," FREE ")),e("h1",ee,o(s.value.name),1)])],4),e("div",te,[e("div",se,[t[3]||(t[3]=e("i",{class:"bi bi-code-slash text-4xl text-blue-600 mb-4 block"},null,-1)),t[4]||(t[4]=e("h3",{class:"font-bold text-xl mb-2"},"Course Duration",-1)),e("p",oe,o(s.value.hour||"1 months"),1)]),e("div",le,[t[5]||(t[5]=e("i",{class:"bi bi-star-fill text-4xl text-blue-600 mb-4 block"},null,-1)),t[6]||(t[6]=e("h3",{class:"font-bold text-xl mb-2"},"Skill Level",-1)),e("p",ne,o(s.value.level),1)]),e("div",re,[t[7]||(t[7]=e("i",{class:"bi bi-book text-4xl text-blue-600 mb-4 block"},null,-1)),t[8]||(t[8]=e("h3",{class:"font-bold text-xl mb-2"},"Total Lessons",-1)),e("p",ae,o(((k=(_=s.value)==null?void 0:_.sections)==null?void 0:k.reduce((a,x)=>{var d;return a+((d=x.lessions)==null?void 0:d.length)},0))||12)+" Lessons ",1)])]),e("div",ie,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Course Overview",-1)),e("p",de,o(s.value.description),1)]),e("div",ue,[t[11]||(t[11]=e("h2",{class:"text-2xl font-bold text-blue-800 mb-6"},"What You'll Learn",-1)),e("div",ce,[t[10]||(t[10]=e("i",{class:"bi bi-check-circle text-blue-500 text-2xl"},null,-1)),e("span",be,o(s.value.benefits),1)])]),e("div",xe,[e("div",ge,[e("div",pe,[t[12]||(t[12]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"Course Content",-1)),e("div",he,[(r(!0),n(f,null,B(s.value.sections,a=>{var x;return r(),n("div",{key:a._id,class:"border border-gray-200 rounded-lg overflow-hidden"},[e("div",fe,[e("h3",ye,[L(o(a.title)+" ",1),e("span",me," ("+o((x=a.lessions)==null?void 0:x.length)+" lessons) ",1)]),e("i",{class:A(["bi",a.isOpen?"bi-chevron-up":"bi-chevron-down"])},null,2)]),e("div",ve,[(r(!0),n(f,null,B(a.lessions,d=>(r(),n("div",{key:d.id,class:"flex justify-between items-center bg-gray-50 p-3 rounded-lg"},[e("span",we,o(d.title),1)]))),128))])])}),128))])])])])]),e("div",_e,[e("div",ke,[e("div",Ce,[e("div",Se,[e("span",Be,o(s.value.coursePrice),1),e("span",Le,o(s.value.originalPrice),1)]),e("div",je,[s.value.coursePrice==0?(r(),n("div",{key:0,onClick:T,class:"w-full block bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg text-center hover:from-blue-700 hover:to-purple-700 transition-all duration-300"},t[13]||(t[13]=[e("i",{class:"bi bi-person-check"},null,-1),L(" Join Course ")]))):(r(),n("button",{key:1,onClick:P,class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 flex items-center justify-center space-x-2"},t[14]||(t[14]=[e("i",{class:"bi bi-cart-plus"},null,-1),e("span",null,"Buy course",-1)])))]),e("div",Fe,[s.value.coursePrice!=0?G((r(),n("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>l.code=a),placeholder:"Enter code",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[U,l.code]]):h("",!0),e("button",{onClick:t[1]||(t[1]=(...a)=>l.handleJoinByCode&&l.handleJoinByCode(...a)),class:"w-full mt-2 bg-gradient-to-r from-green-600 to-teal-600 text-white py-4 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300"}," Join Course ")]),e("div",Pe,[e("div",Te,[t[15]||(t[15]=e("i",{class:"bi bi-award text-blue-500 text-2xl"},null,-1)),e("span",null,o(s.value.cert),1)])])]),e("div",Ee,[t[16]||(t[16]=e("img",{src:"https://i.pinimg.com/564x/24/21/85/242185eaef43192fc3f9646932fe3b46.jpg",alt:"Instructor",class:"w-24 h-24 rounded-full mx-auto mb-4 border-4 border-blue-100"},null,-1)),e("h3",Ve,o(s.value.author),1),e("p",qe,o(s.value.authorBio),1)]),e("div",Ie,[t[18]||(t[18]=e("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Requirements",-1)),e("ul",Je,[e("li",Me,[t[17]||(t[17]=e("i",{class:"bi bi-code-slash text-blue-500 text-lg"},null,-1)),e("span",null,o(s.value.requirements),1)])])])])])])])]}),_:1}),c.value?(r(),n("div",Oe,[e("div",{class:"bg-white border border-gray-300 rounded-xl shadow-lg p-6 max-w-sm w-full"},[t[19]||(t[19]=e("h3",{class:"text-xl font-semibold text-center text-gray-700 mb-4"},"Xác nhận mua khóa học",-1)),e("div",{class:"flex justify-around"},[e("button",{onClick:v,class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300"}," Chắc chắn rồi "),e("button",{onClick:w,class:"bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-all duration-300"}," Suy nghĩ thêm ")])])])):h("",!0),b.value?(r(),n("div",Re,[e("div",{class:"bg-white border border-gray-300 rounded-xl shadow-lg p-6 max-w-sm w-full"},[t[20]||(t[20]=e("h3",{class:"text-xl font-semibold text-center text-gray-700 mb-4"},"Xác nhận tham gia khóa học",-1)),e("div",{class:"flex justify-around"},[e("button",{onClick:v,class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300"}," Chắc chắn rồi "),e("button",{onClick:w,class:"bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-all duration-300"}," Để lần sau ")])])])):h("",!0),C(V,{open:i.value},null,8,["open"])],64)}}},Ue=q(ze,[["__scopeId","data-v-ae98668f"]]);export{Ue as default};
