import{y as k,z as f,r as u,A as S,c as r,e as y,w as L,F as g,d as V,o as i,a as e,t as n,j as m,m as h,h as b,n as A}from"./index-Ct7bBCdm.js";import{A as _}from"./index-C_HyQ6wr.js";import{P as B}from"./ProfileView-C4tTvGuC.js";const D=k("profile",()=>{async function x(){var d;try{const s=await f.post("/api/users/profile");return console.log(s),s}catch(s){return s instanceof _?{errors:((d=s.response.data)==null?void 0:d.messages)||[]}:{errors:["Something wrong, please try later"]}}}async function p(d){var s;try{const l=await f.post("/api/courses/create",d);return console.log(l),l}catch(l){return l instanceof _?{errors:((s=l.response.data)==null?void 0:s.messages)||[]}:{errors:["Something wrong, please try later"]}}}return{handleGetProfile:x,handleCreateCourse:p}}),E={class:"bg-white shadow-lg rounded-xl p-6 w-full mx-auto my-10"},F={class:"flex items-center mb-6"},H=["src","alt"],K={class:"flex-grow"},N={key:0,class:"space-y-1"},T={class:"text-2xl font-bold text-gray-800"},U={class:"text-gray-600"},j={class:"text-gray-500"},M={key:1,class:"space-y-2"},q={class:"grid grid-cols-3 gap-4 mb-6"},z={class:"bg-blue-50 p-4 rounded-lg flex items-center"},G={class:"text-xl font-bold text-blue-800"},Q={class:"bg-green-50 p-4 rounded-lg flex items-center"},$={class:"text-xl font-bold text-green-800"},I={class:"bg-purple-50 p-4 rounded-lg flex items-center"},J={class:"text-xl font-bold text-purple-800"},O={class:"mb-6"},R={class:"font-medium"},W={class:"text-sm text-gray-500"},X={class:"flex justify-between mb-2"},Y={class:"text-gray-700"},Z={class:"text-gray-500"},ee={class:"w-full bg-gray-200 rounded-full h-2.5"},oe={__name:"EditProfileView",setup(x){const p=u(!1),d=D(),s=u({name:"Hoang Khanh",position:"Dev",department:"DU1",avatar:"https://i.pravatar.cc/150?img=3",completedCourses:12,inProgressCourses:3,totalLearningHours:64,learningPath:[{title:"Kỹ năng bán hàng nâng cao",progress:70},{title:"Quản lý quan hệ khách hàng",progress:45}]}),l=u(!1),a=u({name:s.value.name,birthday:"",position:s.value.position}),w=u([{title:"Chứng chỉ Bán hàng chuyên nghiệp",date:"10/2023"},{title:"Hoàn thành Khóa đào tạo Kỹ năng mềm",date:"08/2023"},{title:"Top 3 Nhân viên xuất sắc quý",date:"06/2023"}]),C=()=>{l.value&&(s.value.name=a.value.name,s.value.position=a.value.position),l.value=!l.value};return S(async()=>{const v=await d.handleGetProfile();console.log(v)}),(v,t)=>{const P=V("FullScreenLoading");return i(),r(g,null,[y(B,null,{default:L(()=>[e("div",E,[e("div",F,[e("img",{src:s.value.avatar,alt:s.value.name,class:"w-24 h-24 rounded-full mr-6 object-cover"},null,8,H),e("div",K,[l.value?(i(),r("div",M,[m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.name=o),placeholder:"Họ và tên",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[h,a.value.name]]),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.birthday=o),type:"date",class:"w-full px-3 py-2 border rounded-md mb-2"},null,512),[[h,a.value.birthday]]),m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.position=o),placeholder:"Chức vụ",class:"w-full px-3 py-2 border rounded-md"},null,512),[[h,a.value.position]])])):(i(),r("div",N,[e("h1",T,n(s.value.name),1),e("p",U,n(s.value.position),1),e("p",j,n(s.value.department),1)]))]),e("button",{onClick:C,class:"ml-4 bg-blue-500 text-white px-3 py-2 rounded-md hover:bg-blue-600 transition"},n(l.value?"Lưu":"Chỉnh sửa"),1)]),e("div",q,[e("div",z,[t[4]||(t[4]=e("i",{class:"ri-book-open-line mr-3 text-blue-600 text-2xl"},null,-1)),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm text-gray-600"},"Khóa học đã hoàn thành",-1)),e("p",G,n(s.value.completedCourses),1)])]),e("div",Q,[t[6]||(t[6]=e("i",{class:"ri-line-chart-line mr-3 text-green-600 text-2xl"},null,-1)),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-600"},"Đang học",-1)),e("p",$,n(s.value.inProgressCourses),1)])]),e("div",I,[t[8]||(t[8]=e("i",{class:"ri-award-line mr-3 text-purple-600 text-2xl"},null,-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-600"},"Tổng giờ học",-1)),e("p",J,n(s.value.totalLearningHours),1)])])]),e("div",O,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold mb-4 text-gray-700"},"Thành tích gần đây",-1)),(i(!0),r(g,null,b(w.value,(o,c)=>(i(),r("div",{key:c,class:"bg-gray-50 p-3 rounded-lg mb-2 flex items-center"},[t[9]||(t[9]=e("i",{class:"ri-trophy-line mr-3 text-yellow-600 text-xl"},null,-1)),e("div",null,[e("p",R,n(o.title),1),e("p",W,"Ngày đạt: "+n(o.date),1)])]))),128))]),e("div",null,[t[11]||(t[11]=e("h2",{class:"text-xl font-semibold mb-4 text-gray-700"},"Lộ trình học tập",-1)),(i(!0),r(g,null,b(s.value.learningPath,(o,c)=>(i(),r("div",{key:c,class:"mb-4"},[e("div",X,[e("span",Y,n(o.title),1),e("span",Z,n(o.progress)+"%",1)]),e("div",ee,[e("div",{class:"bg-blue-600 h-2.5 rounded-full",style:A({width:`${o.progress}%`})},null,4)])]))),128))])])]),_:1}),y(P,{open:p.value},null,8,["open"])],64)}}};export{oe as default};
