import{r as c,d as C,o as r,i as V,w as N,a as e,D as j,j as x,m as S,c as v,F as M,h as D,t as h,G as A,g as T,e as F,C as O,u as w,x as k,c2 as $}from"./index-Ct7bBCdm.js";const P=["disabled"],z=["value"],B={__name:"StudentUpdate",props:{student:{type:Object,default:null},courses:{type:Array,required:!0}},emits:["close","save"],setup(f,{emit:b}){const l=f;console.log(l.student);const p=b,i=c(!!l.student),n=c(l.student?{...l.student}:{code:"",name:"",course:"",progress:0,avatar:"/api/placeholder/40/40"}),m=()=>{if(!n.value.name||!n.value.course){alert("Vui lòng nhập đầy đủ thông tin");return}p("save",n.value)};return(d,t)=>{const y=C("GenericModal");return r(),V(y,{title:i.value?"Chỉnh Sửa Học Viên":"Thêm Học Viên",onClose:t[4]||(t[4]=u=>d.$emit("close")),onConfirm:m},{default:N(()=>[e("form",{onSubmit:j(m,["prevent"]),class:"space-y-4"},[e("div",null,[t[5]||(t[5]=e("label",{class:"block mb-2"},"Mã Học Viên",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>n.value.code=u),type:"text",class:"w-full px-3 py-2 border rounded",disabled:i.value},null,8,P),[[S,n.value.code]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block mb-2"},"Tên Học Viên",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>n.value.name=u),type:"text",class:"w-full px-3 py-2 border rounded"},null,512),[[S,n.value.name]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block mb-2"},"Khóa Học",-1)),x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=u=>n.value.course=u),class:"w-full px-3 py-2 border rounded"},[(r(!0),v(M,null,D(f.courses,u=>(r(),v("option",{key:u.id,value:u.name},h(u.name),9,z))),128))],512),[[A,n.value.course]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block mb-2"},"Tiến Độ (%)",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>n.value.progress=u),type:"number",min:"0",max:"100",class:"w-full px-3 py-2 border rounded"},null,512),[[S,n.value.progress,void 0,{number:!0}]])])],32)]),_:1},8,["title"])}}},K={class:"mb-4"},X={class:"font-medium text-gray-800"},J={class:"text-gray-600 mb-3"},Y={__name:"QuestionReply",props:{question:{type:Object,required:!0}},emits:["close","reply"],setup(f,{emit:b}){const l=f,p=b,i=c(""),n=()=>{if(!i.value.trim()){alert("Vui lòng nhập nội dung trả lời");return}p("reply",{questionId:l.question.id,reply:i.value})};return(m,d)=>{const t=C("GenericModal");return r(),V(t,{title:"Trả Lời Câu Hỏi",onClose:d[1]||(d[1]=y=>m.$emit("close")),onConfirm:n},{default:N(()=>[e("div",null,[e("div",K,[e("p",X,"Học Viên: "+h(f.question.student),1),e("p",J,"Câu Hỏi: "+h(f.question.question),1)]),e("div",null,[d[2]||(d[2]=e("label",{class:"block mb-2"},"Nội Dung Trả Lời",-1)),x(e("textarea",{"onUpdate:modelValue":d[0]||(d[0]=y=>i.value=y),rows:"4",class:"w-full px-3 py-2 border rounded",placeholder:"Nhập câu trả lời của bạn..."},null,512),[[S,i.value]])])])]),_:1})}}},Z={class:"p-4 bg-primary min-h-screen"},ee={class:"container mx-auto"},se={class:"bg-white shadow-md rounded-lg overflow-hidden"},te={class:"px-6 py-4 flex justify-between items-center"},ne={class:"flex space-x-3"},le=["value"],oe={class:"mt-6"},ue={class:"font-medium text-gray-800"},ae={class:"text-gray-600"},re={key:0,class:"mt-2 flex items-center space-x-2"},ie=["onClick"],de=["onClick"],pe={__name:"InstructorUser",setup(f){const b=c([{id:1,name:"Lập Trình Web"},{id:2,name:"Data Science"},{id:3,name:"Mobile Development"}]),l=c([{id:1,code:"SV001",name:"Nguyễn Văn A",course:"Lập Trình Web",progress:85,selected:!1},{id:2,code:"SV002",name:"Trần Thị B",course:"Data Science",progress:60,selected:!1},{id:3,code:"SV003",name:"Nguyễn Văn C",course:"Mobile Development",progress:40,selected:!1},{id:4,code:"SV004",name:"Nguyễn Văn A",course:"Lập Trình Web",progress:85,selected:!1},{id:5,code:"SV005",name:"Trần Thị B",course:"Data Science",progress:60,selected:!1},{id:6,code:"SV006",name:"Nguyễn Văn C",course:"Mobile Development",progress:40,selected:!1},{id:7,code:"SV007",name:"Nguyễn Văn A",course:"Lập Trình Web",progress:85,selected:!1},{id:8,code:"SV008",name:"Trần Thị B",course:"Data Science",progress:60,selected:!1},{id:9,code:"SV009",name:"Nguyễn Văn C",course:"Mobile Development",progress:40,selected:!1},{id:10,code:"SV0010",name:"Nguyễn Văn A",course:"Lập Trình Web",progress:85,selected:!1},{id:11,code:"SV0011",name:"Trần Thị B",course:"Data Science",progress:60,selected:!1},{id:12,code:"SV0012",name:"Nguyễn Văn C",course:"Mobile Development",progress:40,selected:!1},{id:13,code:"SV0013",name:"Nguyễn Văn A",course:"Lập Trình Web",progress:85,selected:!1},{id:14,code:"SV0014",name:"Trần Thị B",course:"Data Science",progress:60,selected:!1},{id:15,code:"SV0015",name:"Nguyễn Văn C",course:"Mobile Development",progress:40,selected:!1},{id:16,code:"SV0016",name:"Nguyễn Văn A",course:"Lập Trình Web",progress:85,selected:!1},{id:17,code:"SV0017",name:"Trần Thị B",course:"Data Science",progress:60,selected:!1},{id:18,code:"SV0018",name:"Nguyễn Văn C",course:"Mobile Development",progress:40,selected:!1}]),p=c({searchQuery:"",selectedCourse:""}),i=c([{id:1,student:"Nguyễn Văn A",question:"Làm thế nào để hoàn thành bài tập số 3?",replied:!1,answer:""},{id:2,student:"Trần Thị B",question:"Video bài giảng bị lỗi, phải làm sao?",replied:!1,answer:""}]),n=c(!1),m=c(!1),d=c(!1),t=c(null),y=c(null);function u(){t.value=null,n.value=!0}function Q(a){t.value={...a},m.value=!0}function q(a){const s=l.value.length?Math.max(...l.value.map(g=>g.id))+1:1;l.value.push({id:s,...a,avatar:"/api/placeholder/40/40"}),$({text:"Create successfully",type:"success"}),n.value=!1}function H(a){const s=l.value.findIndex(g=>g.id===a.id);s!==-1&&(l.value[s]={...a}),$({text:"Update successfully",type:"success"}),_()}function _(){m.value=!1}function I(){n.value=!1}function G(a){l.value=l.value.filter(s=>s.id!==a)}function L(a){y.value=a,d.value=!0}function W(a){const s=i.value.findIndex(g=>g.id===a.questionId);s!==-1&&(i.value[s].replied=!0,i.value[s].answer=a.reply),U()}function U(){d.value=!1}return(a,s)=>{const g=C("GenericTable2"),R=C("InstructorLayout");return r(),V(R,null,{default:N(()=>[e("div",Z,[e("div",ee,[e("div",se,[s[4]||(s[4]=e("div",{class:"bg-gray-50 px-6 py-4 border-b"},[e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center"},[e("i",{class:"bi bi-book me-3 text-blue-600"}),T(" Quản lý học viên ")])],-1)),e("div",te,[e("div",ne,[x(e("select",{"onUpdate:modelValue":s[0]||(s[0]=o=>p.value.selectedCourse=o),class:"px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},[s[2]||(s[2]=e("option",{value:""},"Tất cả khóa học",-1)),(r(!0),v(M,null,D(b.value,o=>(r(),v("option",{key:o.id,value:o.name},h(o.name),9,le))),128))],512),[[A,p.value.selectedCourse]]),x(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>p.value.searchQuery=o),placeholder:"Tìm kiếm học viên",class:"px-3 py-2 border rounded-md text-sm w-64 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[S,p.value.searchQuery]])]),e("button",{onClick:u,class:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-300 ease-in-out"},s[3]||(s[3]=[e("i",{class:"bi bi-plus-lg"},null,-1),e("span",null,"Thêm Học Viên",-1)]))]),F(g,{students:l.value,rowsPerPage:5,filters:p.value,onEdit:Q,onDelete:G},null,8,["students","filters"])])]),e("section",oe,[s[8]||(s[8]=e("h3",{class:"text-xl font-medium text-gray-700 mb-2"},"Câu hỏi từ học viên",-1)),(r(!0),v(M,null,D(i.value,o=>(r(),v("div",{key:o.id,class:O(["bg-white p-4 rounded-lg mb-3 shadow-sm",{"opacity-70":o.replied}])},[e("p",ue,h(o.student),1),e("p",ae,h(o.question),1),o.replied?(r(),v("div",re,[s[6]||(s[6]=e("span",{class:"text-green-600 text-sm"},"Đã trả lời",-1)),e("button",{onClick:E=>L(o),class:"text-sm text-blue-500 hover:text-blue-700 flex items-center"},s[5]||(s[5]=[e("i",{class:"bi bi-pencil mr-1"},null,-1),T(" Xem/Sửa ")]),8,ie)])):(r(),v("button",{key:1,onClick:E=>L(o),class:"mt-2 text-sm text-blue-500 hover:text-blue-700 flex items-center"},s[7]||(s[7]=[e("i",{class:"bi bi-reply mr-1"},null,-1),T(" Trả lời ")]),8,de))],2))),128))]),n.value?(r(),V(w(B),{key:0,student:t.value,courses:b.value,onClose:I,onSave:q},null,8,["student","courses"])):k("",!0),m.value?(r(),V(w(B),{key:1,student:t.value,courses:b.value,onClose:_,onSave:H},null,8,["student","courses"])):k("",!0),d.value?(r(),V(w(Y),{key:2,question:y.value,onClose:U,onReply:W},null,8,["question"])):k("",!0)])]),_:1})}}};export{pe as default};
