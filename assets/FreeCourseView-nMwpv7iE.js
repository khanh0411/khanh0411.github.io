import{r,i as d,w as k,e as L,c as v,k as m,l as S,A as F,F as _,B as V,E as $,o as g,a as o,x as B,C as T,q,u as D,D as x}from"./index-nqkC00__.js";import{C as I,I as M}from"./CourseListView-4r3FQtLU.js";import{u as N}from"./course.store-BGaXLsu6.js";const j={class:"container mx-auto p-6"},A={class:"mb-6 w-full flex justify-center items-center"},E={class:"grid gap-6 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5"},G={class:"flex justify-center items-center mt-6"},Q=["disabled"],R={class:"mx-2"},U=["disabled"],W={__name:"FreeCourseView",setup(z){const C=N(),f=r([]),l=r(""),n=r(!1),t=r(1),i=r(10),u=r(null),p=V(),h=d(()=>f.value.filter(e=>e.name.toLowerCase().includes(l.value.toLowerCase()))),b=d(()=>{const e=(t.value-1)*i.value,a=e+i.value;return h.value.slice(e,a)}),c=d(()=>Math.ceil(h.value.length/i.value));async function w(){n.value=!0;const e=await C.handleGetAllCourse();n.value=!1,e.errors?$({text:e.errors,type:"error"}):f.value=e.data.freeCourses}function P(){u.value&&clearTimeout(u.value),u.value=setTimeout(()=>{t.value=1},500)}function y(e){e>=1&&e<=c.value&&(t.value=e)}return k(l,P),L(()=>{w(),p.query.search&&(l.value=p.query.search)}),(e,a)=>(g(),v(_,null,[m(I,null,{default:S(()=>[o("div",j,[o("div",A,[B(o("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),type:"text",class:"w-full max-w-3xl p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Search courses by name..."},null,512),[[T,l.value]])]),o("div",E,[(g(!0),v(_,null,q(b.value,s=>(g(),v("div",{key:s.course_id,class:"transform transition duration-300 hover:-translate-y-2 hover:shadow-lg"},[m(D(M),{onClick:H=>e.$router.push(`/course-infor?id=${s.course_id}`),coures_id:s.course_id,name:s.name,title:s.title,image:s.image,cert:s.cert,coursePrice:s.coursePrice,originalPrice:s.originalPrice},null,8,["onClick","coures_id","name","title","image","cert","coursePrice","originalPrice"])]))),128))]),o("div",G,[o("button",{onClick:a[1]||(a[1]=s=>y(t.value-1)),disabled:t.value===1,class:"px-4 py-2 mx-2 bg-gray-200 text-gray-800 rounded disabled:opacity-50"}," Previous ",8,Q),o("span",R,"Page "+x(t.value)+" of "+x(c.value),1),o("button",{onClick:a[2]||(a[2]=s=>y(t.value+1)),disabled:t.value===c.value,class:"px-4 py-2 mx-2 bg-gray-200 text-gray-800 rounded disabled:opacity-50"}," Next ",8,U)])])]),_:1}),m(F,{open:n.value},null,8,["open"])],64))}};export{W as default};
