import{y as E,c8 as v,S as A,c9 as P,z as n,c1 as b}from"./index-Ct7bBCdm.js";import{A as a}from"./index-C_HyQ6wr.js";class j{constructor(o,i,c,u,h,l,t,r,e,s,d,p,m,f,y,_,w,C,S,k){this.course_id=o||"",this.user_id=i||"",this.name=c||"",this.title=u||"",this.author=h||"",this.authorBio=l||"",this.image=t||"",this.hour=r||"",this.benefits=e||"",this.requirements=s||"",this.level=d||"",this.rating=p||"",this.coursePrice=m,this.originalPrice=f,this.discount=y,this.cert=_||"",this.description=w||"",this.category=C||"",this.enroll=S||"",this.mapped_id=k}}const O=E("course",()=>{const g=v(A.accessToken),o=P(g),i=t=>{for(const[r,e]of Object.entries(b))if(e===t)return r;return"unknown"};async function c(){var t;try{const r=await n.post("/api/courses/all"),e=r.data.map((s,d)=>new j(s.course_id,s.user_id,s.name,s.title,s.author,s.authorBio,s.image,s.hour,s.benefits,s.requirements,i(s.level),s.rating,s.coursePrice,s.originalPrice,s.discount,s.cert,s.description,s.category,s.enroll,d+1));return{...r,data:e}}catch(r){return r instanceof a?{errors:((t=r.response.data)==null?void 0:t.messages)||[]}:{errors:["Something wrong, please try later"]}}}async function u(t){var r;try{const e=await n.post("/api/courses/create",{user_id:o.user.user_id,...t,image:"https://photo.znews.vn/w660/Uploaded/mdf_eioxrd/2021_07_06/2.jpg"});return console.log(e),e}catch(e){return e instanceof a?{errors:((r=e.response.data)==null?void 0:r.messages)||[]}:{errors:["Something wrong, please try later"]}}}async function h(t){var r;try{const e=await n.post("/api/courses/updateCourse",{user_id:o.user.user_id,...t});return console.log(e),e}catch(e){return e instanceof a?{errors:((r=e.response.data)==null?void 0:r.messages)||[]}:{errors:["Something wrong, please try later"]}}}async function l(t){var r;try{const e=await n.post("/api/courses/deleteCourse",{course_id:t});return console.log(e),e}catch(e){return e instanceof a?{errors:((r=e.response.data)==null?void 0:r.messages)||[]}:{errors:["Something wrong, please try later"]}}}return{handleGetAllCourse:c,handleCreateCourse:u,handleUpdateCourse:h,handleDeleteCourse:l}});export{j as C,O as u};
