import{r as l,w as T,i as g,e as I,s as y,l as L,E as S,o as m,a as t,x as $,C as V,c as B,q as F,u as D,F as N,D as C,k as j,A}from"./index-elA_cgIn.js";import{M as E,I as O}from"./MyCouresView-B2Q1SLWL.js";import{u as q}from"./course.store-CORoVF4j.js";const G={class:"my-4 w-full flex justify-center items-center"},Q={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},U={class:"mt-6 flex justify-center items-center space-x-2"},W=["disabled"],z={class:"px-4"},H=["disabled"],Y={__name:"WishlistView",setup(J){const _=q(),p=l([]),r=l(!1),o=l(""),s=l(1),i=l(8),u=l(null),c=l(null);async function x(){r.value=!0;const e=await _.handleGetAll2Course();r.value=!1,e.errors?S({text:e.errors,type:"error"}):p.value=e.data}function b(){c.value&&clearTimeout(c.value),c.value=setTimeout(()=>{s.value=1},500)}T(o,b);const f=g(()=>p.value.filter(e=>e.name.toLowerCase().includes(o.value.toLowerCase()))),M=g(()=>{const e=(s.value-1)*i.value,n=e+i.value;return f.value.slice(e,n)}),d=g(()=>Math.ceil(f.value.length/i.value));function h(e){e>=1&&e<=d.value&&(s.value=e)}function w(e){u.value=u.value===e?null:e}function k(){u.value=null}return I(()=>{x()}),(e,n)=>(m(),y(E,null,{default:L(()=>[t("div",G,[$(t("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>o.value=a),type:"text",class:"w-full max-w-3xl p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",placeholder:"Search courses by name..."},null,512),[[V,o.value]])]),t("div",Q,[(m(!0),B(N,null,F(M.value,(a,v)=>(m(),y(D(O),{onClick:P=>e.$router.push(`/learning-page?id=${a.course_id}`),key:a.course_id,menuIndex:v,isMenuOpen:u.value===v,image:a.image,name:a.name,author:a.author,onToggleMenu:P=>w(v),onCloseMenu:k},null,8,["onClick","menuIndex","isMenuOpen","image","name","author","onToggleMenu"]))),128))]),t("div",U,[t("button",{onClick:n[1]||(n[1]=a=>h(s.value-1)),disabled:s.value===1,class:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50"}," Previous ",8,W),t("span",z,"Page "+C(s.value)+" of "+C(d.value),1),t("button",{onClick:n[2]||(n[2]=a=>h(s.value+1)),disabled:s.value===d.value,class:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50"}," Next ",8,H)]),j(A,{open:r.value},null,8,["open"])]),_:1}))}};export{Y as default};
