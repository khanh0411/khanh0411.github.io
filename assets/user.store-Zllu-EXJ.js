import{K as d,r as f,L as l,P as g,M as m,U as h,ci as U}from"./index-Cww7t7_x.js";class y{constructor(n,o,i,c,u,r,e,s){this.user_id=n||"",this.full_name=o||"",this.avatar_url=i||"",this.dob=c||"",this.email=u||"",this.role=r||"",this.status=e||"",this.mapped_id=s}}const w=d("user",()=>{const p=f(null),n=r=>{for(const[e,s]of Object.entries(h))if(s===r)return e;return"unknown"},o=r=>{for(const[e,s]of Object.entries(U))if(s===r)return e;return"Unknown"};async function i(){var r;try{const e=await l.post("/api/users/allusers"),s=e.data.map((t,a)=>new y(t.user_id,t.full_name,t.avatar_url,g(t.dob),t.email,n(t.role),o(t.status),a+1));return{...e,data:s}}catch(e){return e instanceof m?{errors:((r=e.response.data)==null?void 0:r.message)||[]}:{errors:["Something wrong, please try later"]}}}async function c(r,e,s){var t;try{const a=await l.post("/api/admin/setrole",{user_id:r,role:e,status:s});return console.log(a),a}catch(a){return a instanceof m?{errors:((t=a.response.data)==null?void 0:t.message)||[]}:{errors:["Something wrong, please try later"]}}}async function u(r){var e;try{const s=await l.post("/api/admin/delete",{user_id:r});return console.log(s),s}catch(s){return s instanceof m?{errors:((e=s.response.data)==null?void 0:e.message)||[]}:{errors:["Something wrong, please try later"]}}}return{user:p,handleGetUsers:i,handleUpdateUser:c,handleDeleteUser:u}});export{y as U,w as u};
