import{_ as J,B as M,r as h,i as f,t as O,S as z,e as N,Z as A,c as o,k as B,l as G,a as e,z as v,F as d,E as b,m as U,j as L,o as l,H as W,D as a,q as g,b as j,T as X,x as Y,C as H}from"./index-D8gAyzM3.js";import{u as K}from"./course.store-LCRn9oYB.js";import{u as Z}from"./studentCourse.store-_PUSz9cQ.js";const $={class:"bg-gray-50 min-h-screen py-12"},Q={class:"max-w-6xl mx-auto px-4 grid lg:grid-cols-3 gap-10"},ee={class:"lg:col-span-2 space-y-8"},te={class:"absolute bottom-8 left-8 right-8"},se={key:0,class:"bg-yellow-400 text-black px-4 py-1.5 rounded-full text-sm font-bold mb-3 inline-block shadow-lg hover:bg-yellow-300 transition-colors"},oe={key:1,class:"bg-yellow-400 text-black px-4 py-1.5 rounded-full text-sm font-bold mb-3 inline-block shadow-lg hover:bg-yellow-300 transition-colors"},le={class:"text-4xl font-bold text-white drop-shadow-lg tracking-tight"},ne={class:"grid md:grid-cols-3 gap-6"},re={class:"bg-white p-6 rounded-xl shadow-md"},ae={class:"text-gray-600"},ie={class:"bg-white p-6 rounded-xl shadow-md"},de={class:"text-gray-600"},ue={class:"bg-white p-6 rounded-xl shadow-md"},ce={class:"text-gray-600"},be={class:"bg-gradient-to-r from-white to-gray-50 p-8 rounded-2xl shadow-lg transition-all duration-300 hover:shadow-2xl"},ge={class:"text-gray-700 leading-relaxed space-y-4"},xe={class:"block font-medium text-gray-800"},pe={class:"bg-blue-50 p-8 rounded-2xl"},he={class:"space-y-4"},me={class:"text-gray-700 text-lg"},fe={class:"bg-gray-50 min-h-screen py-12"},ve={class:"max-w-6xl mx-auto px-4"},ye={class:"bg-white p-8 rounded-2xl shadow-md"},we={class:"space-y-4"},_e={class:"bg-gray-100 p-4 flex justify-between items-center cursor-pointer"},ke={class:"font-bold text-lg text-gray-800"},Ce={class:"text-sm text-gray-500"},Se={class:"bg-white space-y-2 p-4"},Be={class:"text-gray-700"},Le={class:"lg:col-span-1"},je={class:"sticky top-8 space-y-6"},qe={class:"bg-white border border-gray-200 rounded-2xl shadow-xl p-6"},Fe={class:"flex items-center justify-between mb-6"},Pe={class:"text-4xl font-bold text-blue-600"},Te={class:"text-gray-500 line-through text-xl"},Ee={class:"space-y-4"},Ve={class:"mt-4"},Re={class:"mt-6 space-y-4 text-gray-600"},De={class:"flex items-center space-x-3"},Ie={class:"bg-white p-6 rounded-2xl shadow-md text-center"},Je={class:"text-xl font-bold text-gray-800"},Me={class:"text-gray-600 mt-2"},Oe={class:"bg-gray-100 p-8 rounded-2xl shadow-lg"},ze={class:"space-y-4"},Ne={class:"text-gray-700 text-lg"},Ae={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"},Ge={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"},Ue={__name:"CourseInfoView",setup(We){const m=M().query,q=K(),F=Z(),s=h({}),u=h(!1),x=h(!1),p=h(!1);async function y(){if(!m.id)return;u.value=!0;const r=await q.handleGetCourse(m.id);u.value=!1,r.errors?b({text:r.errors,type:"error"}):s.value={...r.data}}const P=f(()=>(s.value.description||"").split(/[\n,]+/).map(t=>t.trim())),T=f(()=>(s.value.benefits||"").split(/[\n,]+/).map(t=>t.trim())),E=f(()=>(s.value.requirements||"").split(/[\n,]+/).map(t=>t.trim())),w=O(z.accessToken);function V(){w?x.value=!0:b({text:"Bạn cần đăng nhập để mua khóa học.",type:"warn"})}function R(){w?p.value=!0:b({text:"Bạn cần đăng nhập để mua khóa học.",type:"warn"})}async function _(){u.value=!0;const r=await F.handleJoinCourseWithCoin(s.value.course_id);u.value=!1,r.errors?b({text:r.errors,type:"error"}):(x.value=!1,p.value=!1,b({text:"Buy course success",type:"success"}),window.location.replace(U.learning.path))}function k(){x.value=!1,p.value=!1}return N(()=>{window.scrollTo(0,0),m.id&&y()}),A((r,t)=>{r.query.id!==t.query.id&&y()}),(r,t)=>{const D=L("MainLayout"),I=L("FullScreenLoading");return l(),o(d,null,[B(D,null,{default:G(()=>{var C,S;return[e("div",$,[e("div",Q,[e("div",ee,[e("div",{class:"relative h-96 rounded-2xl overflow-hidden shadow-2xl group hover:shadow-xl transition-all duration-300",style:W({backgroundImage:`url(${s.value.image})`,backgroundSize:"cover",backgroundPosition:"center"})},[t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"},null,-1)),e("div",te,[s.value.coursePrice!==0?(l(),o("span",se," 27% OFF ")):(l(),o("span",oe," FREE ")),e("h1",le,a(s.value.name),1)])],4),e("div",ne,[e("div",re,[t[3]||(t[3]=e("i",{class:"bi bi-code-slash text-4xl text-blue-600 mb-4 block"},null,-1)),t[4]||(t[4]=e("h3",{class:"font-bold text-xl mb-2"},"Course Duration",-1)),e("p",ae,a(s.value.hour||"1 months"),1)]),e("div",ie,[t[5]||(t[5]=e("i",{class:"bi bi-star-fill text-4xl text-blue-600 mb-4 block"},null,-1)),t[6]||(t[6]=e("h3",{class:"font-bold text-xl mb-2"},"Skill Level",-1)),e("p",de,a(s.value.level),1)]),e("div",ue,[t[7]||(t[7]=e("i",{class:"bi bi-book text-4xl text-blue-600 mb-4 block"},null,-1)),t[8]||(t[8]=e("h3",{class:"font-bold text-xl mb-2"},"Total Lessons",-1)),e("p",ce,a(((S=(C=s.value)==null?void 0:C.sections)==null?void 0:S.reduce((n,i)=>{var c;return n+((c=i.lessions)==null?void 0:c.length)},0))||12)+" Lessons ",1)])]),e("div",be,[t[10]||(t[10]=e("div",{class:"relative mb-8"},[e("h2",{class:"text-2xl font-bold text-gray-800 inline-block tracking-wide"},"Course Overview"),e("div",{class:"absolute -bottom-2 left-0 h-1 w-24 bg-blue-500 rounded-full"})],-1)),e("div",ge,[(l(!0),o(d,null,g(P.value,(n,i)=>(l(),o("div",{key:i,class:"flex items-start space-x-4 p-4 rounded-lg transition-all duration-300 hover:bg-blue-50"},[t[9]||(t[9]=e("div",{class:"flex-shrink-0 mt-1.5"},[e("div",{class:"w-4 h-4 rounded-full bg-blue-500 border-2 border-white shadow-md"})],-1)),e("span",xe,a(n),1)]))),128))])]),e("div",pe,[t[12]||(t[12]=e("h2",{class:"text-2xl font-bold text-blue-800 mb-6"},"What You'll Learn",-1)),e("ul",he,[(l(!0),o(d,null,g(T.value,(n,i)=>(l(),o("li",{key:i,class:"flex items-center space-x-4 bg-white p-4 rounded-lg shadow-md hover:shadow-lg hover:bg-blue-100 transition-all duration-300"},[t[11]||(t[11]=e("i",{class:"bi bi-check-circle text-blue-500 text-2xl"},null,-1)),e("span",me,a(n),1)]))),128))])]),e("div",fe,[e("div",ve,[e("div",ye,[t[13]||(t[13]=e("h2",{class:"text-2xl font-bold text-gray-800 mb-6"},"Course Content",-1)),e("div",we,[(l(!0),o(d,null,g(s.value.sections,n=>{var i;return l(),o("div",{key:n._id,class:"border border-gray-200 rounded-lg overflow-hidden"},[e("div",_e,[e("h3",ke,[j(a(n.title)+" ",1),e("span",Ce," ("+a((i=n.lessions)==null?void 0:i.length)+" lessons) ",1)]),e("i",{class:X(["bi",n.isOpen?"bi-chevron-up":"bi-chevron-down"])},null,2)]),e("div",Se,[(l(!0),o(d,null,g(n.lessions,c=>(l(),o("div",{key:c.id,class:"flex justify-between items-center bg-gray-50 p-3 rounded-lg"},[e("span",Be,a(c.title),1)]))),128))])])}),128))])])])])]),e("div",Le,[e("div",je,[e("div",qe,[e("div",Fe,[e("span",Pe,a(s.value.coursePrice),1),e("span",Te,a(s.value.originalPrice),1)]),e("div",Ee,[s.value.coursePrice==0?(l(),o("div",{key:0,onClick:R,class:"w-full block bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg cursor-pointer text-center hover:from-blue-700 hover:to-purple-700 transition-all duration-300"},t[14]||(t[14]=[e("i",{class:"bi bi-person-check"},null,-1),j(" Join Course ")]))):(l(),o("button",{key:1,onClick:V,class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 flex items-center justify-center space-x-2"},t[15]||(t[15]=[e("i",{class:"bi bi-cart-plus"},null,-1),e("span",null,"Buy course",-1)])))]),e("div",Ve,[s.value.coursePrice!=0?Y((l(),o("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>r.code=n),placeholder:"Enter code",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512)),[[H,r.code]]):v("",!0),e("button",{onClick:t[1]||(t[1]=(...n)=>r.handleJoinByCode&&r.handleJoinByCode(...n)),class:"w-full mt-2 bg-gradient-to-r from-green-600 to-teal-600 text-white py-4 rounded-lg hover:from-green-700 hover:to-teal-700 transition-all duration-300"}," Join Course ")]),e("div",Re,[e("div",De,[t[16]||(t[16]=e("i",{class:"bi bi-award text-blue-500 text-2xl"},null,-1)),e("span",null,a(s.value.cert),1)])])]),e("div",Ie,[t[17]||(t[17]=e("img",{src:"https://i.pinimg.com/564x/24/21/85/242185eaef43192fc3f9646932fe3b46.jpg",alt:"Instructor",class:"w-24 h-24 rounded-full mx-auto mb-4 border-4 border-blue-100"},null,-1)),e("h3",Je,a(s.value.author),1),e("p",Me,a(s.value.authorBio),1)]),e("div",Oe,[t[19]||(t[19]=e("h3",{class:"text-xl font-bold text-gray-800 mb-6"},"Requirements",-1)),e("ul",ze,[(l(!0),o(d,null,g(E.value,(n,i)=>(l(),o("li",{key:i,class:"flex items-center space-x-3 bg-white p-4 rounded-lg shadow-md hover:shadow-lg hover:bg-blue-50 transition-all duration-300"},[t[18]||(t[18]=e("i",{class:"bi bi-code-slash text-blue-500 text-xl"},null,-1)),e("span",Ne,a(n),1)]))),128))])])])])])])]}),_:1}),x.value?(l(),o("div",Ae,[e("div",{class:"bg-white border border-gray-300 rounded-xl shadow-lg p-6 max-w-sm w-full"},[t[20]||(t[20]=e("h3",{class:"text-xl font-semibold text-center text-gray-700 mb-4"},"Xác nhận mua khóa học",-1)),e("div",{class:"flex justify-around"},[e("button",{onClick:_,class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300"}," Chắc chắn rồi "),e("button",{onClick:k,class:"bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-all duration-300"}," Suy nghĩ thêm ")])])])):v("",!0),p.value?(l(),o("div",Ge,[e("div",{class:"bg-white border border-gray-300 rounded-xl shadow-lg p-6 max-w-sm w-full"},[t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-center text-gray-700 mb-4"},"Xác nhận tham gia khóa học",-1)),e("div",{class:"flex justify-around"},[e("button",{onClick:_,class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300"}," Chắc chắn rồi "),e("button",{onClick:k,class:"bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-all duration-300"}," Để lần sau ")])])])):v("",!0),B(I,{open:u.value},null,8,["open"])],64)}}},Ke=J(Ue,[["__scopeId","data-v-d3dda4ad"]]);export{Ke as default};
