import{r as n,e as M,s as p,l as b,E as w,o as v,a as l,x as L,C as k,c as I,q as P,u as B,F as S,D as f}from"./index-D8gAyzM3.js";import{M as T,I as D}from"./MyCouresView-Qs2CYtT6.js";import{u as F}from"./course.store-LCRn9oYB.js";const V={class:"my-4 w-full flex justify-center items-center"},$={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},j={class:"mt-6 flex justify-center items-center space-x-2"},E=["disabled"],N={class:"px-4"},O=["disabled"],z={__name:"MyList",setup(q){const y=F(),o=n(null),u=n([]),g=n(!1),r=n(""),a=n(1),i=n(8);async function h(){g.value=!0;const e=await y.handleGetAllCourse();g.value=!1,e.errors?w({text:e.errors,type:"error"}):u.value=e.data}function x(e){o.value=o.value===e?null:e}function _(){o.value=null}function C(){const e=u.value.filter(s=>s.name.toLowerCase().includes(r.value.toLowerCase())),t=(a.value-1)*i.value;return e.slice(t,t+i.value)}function c(){return Math.ceil(u.value.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase())).length/i.value)}function m(e){e>=1&&e<=c()&&(a.value=e)}return M(async()=>{h()}),(e,t)=>(v(),p(T,null,{default:b(()=>[l("div",V,[L(l("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),type:"text",placeholder:"Search courses...",class:"border border-gray-300 rounded-lg px-4 py-2 w-full max-w-3xl"},null,512),[[k,r.value]])]),l("div",$,[(v(!0),I(S,null,P(C(),(s,d)=>(v(),p(B(D),{key:s.course_id,menuIndex:d,isMenuOpen:o.value===d,image:s.image,name:s.name,author:s.author,onToggleMenu:A=>x(d),onCloseMenu:_},null,8,["menuIndex","isMenuOpen","image","name","author","onToggleMenu"]))),128))]),l("div",j,[l("button",{onClick:t[1]||(t[1]=s=>m(a.value-1)),disabled:a.value===1,class:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50"}," Previous ",8,E),l("span",N,"Page "+f(a.value)+" of "+f(c()),1),l("button",{onClick:t[2]||(t[2]=s=>m(a.value+1)),disabled:a.value===c(),class:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50"}," Next ",8,O)])]),_:1}))}};export{z as default};
