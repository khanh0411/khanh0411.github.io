import{_ as h,r as d,i as x,w as r,d as n,o as E,a as o,e as l,u as w,f as m,c3 as g,g as b,t as _,D as B,b_ as I,c4 as k,c5 as C,c6 as F}from"./index-Ct7bBCdm.js";import{u as P}from"./auth.store-DOR3p7Kt.js";import"./index-C_HyQ6wr.js";const T={class:"mx-7 text-sm font-medium"},G={class:"mt-8"},N={class:"mt-5"},R={__name:"SignInView",setup(U){const{notify:y}=F(),V=P(),p={email:"",password:""},s=d({email:"",password:""}),a=d({...p}),i=d(!1);async function f(){let t=!0;if(a.value={...p},s.value.email.trim()===""?(a.value.email="This field is required",t=!1):k(s.value.email.trim())||(a.value.email="This field is not in email format",t=!1),s.value.password.trim()===""?(a.value.password="This field is required",t=!1):C(s.value.password.trim())||(a.value.password="Passwords need to be 8 characters or more and have a combination of uppercase letters, lowercase letters, numbers and symbols.",t=!1),t){i.value=!0;const e=await V.handleLogin(s.value);i.value=!1,console.log(e),e.user?window.location.replace(m.home.path):y({text:"Something wrong!!",type:"error"})}}return(t,e)=>{const v=n("RouterLink"),c=n("SmallComponent"),S=n("FullScreenLoading"),L=n("GuestLayout");return E(),x(L,null,{default:r(()=>[o("form",{class:"form rounded-lg overflow-hidden w-auto h-auto",onSubmit:B(f,["prevent"]),onKeyup:I(f,["enter"])},[l(v,{to:w(m).signIn.path},{default:r(()=>e[2]||(e[2]=[o("button",{class:"signin-btn"},"Login",-1)])),_:1},8,["to"]),l(v,{to:w(m).signUp.path},{default:r(()=>e[3]||(e[3]=[o("button",{class:"signup-btn"},"Register",-1)])),_:1},8,["to"]),o("div",T,[o("div",G,[e[4]||(e[4]=o("label",null,"Email Address",-1)),l(g,{modelValue:s.value.email,"onUpdate:modelValue":e[0]||(e[0]=u=>s.value.email=u),type:"text",placeholder:"Enter your Email..",class:"mt-3 invalid:border-red-500",error:!!a.value.email},null,8,["modelValue","error"]),l(c,null,{default:r(()=>[b(_(a.value.email),1)]),_:1})]),o("div",N,[e[5]||(e[5]=o("label",null,"Password",-1)),l(g,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.value.password=u),type:"password",placeholder:"Enter your Password",class:"mt-3 invalid:border-red-500",error:!!a.value.password},null,8,["modelValue","error"]),l(c,null,{default:r(()=>[b(_(a.value.password),1)]),_:1})]),e[6]||(e[6]=o("div",{class:"my-5"},"Forgot your password?",-1)),e[7]||(e[7]=o("button",{class:"primary-button !w-full mb-5"},"Log in",-1))])],32),l(S,{open:i.value},null,8,["open"])]),_:1})}}},K=h(R,[["__scopeId","data-v-536a146c"]]);export{K as default};
