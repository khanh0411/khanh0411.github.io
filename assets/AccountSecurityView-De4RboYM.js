import{r,c as n,e as g,w as N,F as x,d as M,o as i,a as t,j as y,B as v,C as u,t as a,x as f,g as c,h as _}from"./index-Ct7bBCdm.js";import{P as F}from"./ProfileView-C4tTvGuC.js";const S={class:"container mx-auto px-4 py-8"},T={class:"bg-white shadow-md rounded-lg p-6 mb-6"},B={class:"space-y-4"},D={class:"relative"},H=["type"],L={class:"relative"},j=["type"],X={class:"relative"},U=["type"],q={class:"bg-white shadow-md rounded-lg p-6 mb-6"},z={class:"flex justify-between items-center mb-4"},I={class:"flex items-center"},G={class:"mr-3 text-gray-600"},J={key:0,class:"mt-4"},K={class:"flex space-x-4 mb-4"},O={key:0,class:"space-y-2"},Q={class:"text-gray-600"},R={key:1,class:"space-y-2"},W={class:"text-gray-600"},Y={class:"bg-white shadow-md rounded-lg p-6 mb-6"},Z={class:"flex justify-between items-center"},tt={class:"text-sm text-gray-600"},et={class:"ml-2"},st={class:"text-xs text-gray-500"},lt={class:"bg-white shadow-md rounded-lg p-6"},ot={class:"flex items-center"},at={class:"font-semibold mr-2"},nt={class:"text-sm text-gray-500"},it={class:"text-sm text-gray-500"},rt={class:"ml-2"},dt=["onClick"],bt={__name:"AccountSecurityView",setup(ut){const k=r(!1),o=r({currentPassword:"",newPassword:"",confirmPassword:""}),m=r(!1),h=r(!1),b=r(!1),l=r({isEnabled:!1,method:"email",email:"user@example.com",phoneNumber:"+84 123 456 789"}),P=r([{date:"2024-01-15 14:30",location:"Ho Chi Minh City, Vietnam",ipAddress:"192.168.1.100"},{date:"2024-01-10 09:45",location:"Hanoi, Vietnam",ipAddress:"203.162.10.55"}]),p=r([{type:"Desktop",browser:"Chrome",lastActive:"2024-01-15 15:20",current:!0,location:"Ho Chi Minh City"},{type:"Mobile",browser:"Safari",lastActive:"2024-01-14 22:10",current:!1,location:"Hanoi"}]),C=()=>o.value.newPassword!==o.value.confirmPassword?(alert("Mật khẩu mới không khớp"),!1):o.value.newPassword.length<8?(alert("Mật khẩu phải có ít nhất 8 ký tự"),!1):!0,$=()=>{C()&&(alert("Đổi mật khẩu thành công"),o.value.currentPassword="",o.value.newPassword="",o.value.confirmPassword="")},V=()=>{l.value.isEnabled=!l.value.isEnabled,alert(l.value.isEnabled?"Đã kích hoạt xác thực 2 yếu tố":"Đã tắt xác thực 2 yếu tố")},w=d=>{l.value.method=d},E=d=>{p.value=p.value.filter(e=>e!==d),alert(`Đã đăng xuất thiết bị ${d.type} ${d.browser}`)};return(d,e)=>{const A=M("FullScreenLoading");return i(),n(x,null,[g(F,null,{default:N(()=>[t("div",S,[e[16]||(e[16]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Bảo mật Tài khoản",-1)),t("div",T,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-700"},"Thay đổi mật khẩu",-1)),t("div",B,[t("div",D,[e[8]||(e[8]=t("label",{class:"block mb-2 text-gray-600"},"Mật khẩu hiện tại",-1)),y(t("input",{type:m.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.currentPassword=s),class:"w-full px-3 py-2 border rounded-md",placeholder:"Nhập mật khẩu hiện tại"},null,8,H),[[v,o.value.currentPassword]]),t("button",{onClick:e[1]||(e[1]=s=>m.value=!m.value),class:"absolute right-3 top-10 transform -translate-y-1/2"},[t("i",{class:u(`bi ${m.value?"bi-eye-slash-fill":"bi-eye-fill"} text-gray-500`)},null,2)])]),t("div",L,[e[9]||(e[9]=t("label",{class:"block mb-2 text-gray-600"},"Mật khẩu mới",-1)),y(t("input",{type:h.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.newPassword=s),class:"w-full px-3 py-2 border rounded-md",placeholder:"Nhập mật khẩu mới"},null,8,j),[[v,o.value.newPassword]]),t("button",{onClick:e[3]||(e[3]=s=>h.value=!h.value),class:"absolute right-3 top-10 transform -translate-y-1/2"},[t("i",{class:u(`bi ${h.value?"bi-eye-slash-fill":"bi-eye-fill"} text-gray-500`)},null,2)])]),t("div",X,[e[10]||(e[10]=t("label",{class:"block mb-2 text-gray-600"},"Xác nhận mật khẩu mới",-1)),y(t("input",{type:b.value?"text":"password","onUpdate:modelValue":e[4]||(e[4]=s=>o.value.confirmPassword=s),class:"w-full px-3 py-2 border rounded-md",placeholder:"Nhập lại mật khẩu mới"},null,8,U),[[v,o.value.confirmPassword]]),t("button",{onClick:e[5]||(e[5]=s=>b.value=!b.value),class:"absolute right-3 top-10 transform -translate-y-1/2"},[t("i",{class:u(`bi ${b.value?"bi-eye-slash-fill":"bi-eye-fill"} text-gray-500`)},null,2)])]),t("button",{onClick:$,class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"}," Đổi mật khẩu ")])]),t("div",q,[t("div",z,[e[12]||(e[12]=t("h2",{class:"text-xl font-semibold text-gray-700"},"Xác thực 2 yếu tố",-1)),t("div",I,[t("span",G,a(l.value.isEnabled?"Đã bật":"Chưa bật"),1),t("button",{onClick:V,class:u(`px-3 py-1 rounded-full text-white transition ${l.value.isEnabled?"bg-green-500":"bg-red-500"}`)},a(l.value.isEnabled?"Tắt":"Bật"),3)])]),l.value.isEnabled?(i(),n("div",J,[t("div",K,[t("button",{onClick:e[6]||(e[6]=s=>w("email")),class:u(`flex-1 py-2 rounded-md transition ${l.value.method==="email"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`)}," Xác thực qua Email ",2),t("button",{onClick:e[7]||(e[7]=s=>w("phone")),class:u(`flex-1 py-2 rounded-md transition ${l.value.method==="phone"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`)}," Xác thực qua Số điện thoại ",2)]),l.value.method==="email"?(i(),n("div",O,[t("p",Q,"Email xác thực: "+a(l.value.email),1)])):(i(),n("div",R,[t("p",W,"Số điện thoại: "+a(l.value.phoneNumber),1)]))])):f("",!0)]),t("div",Y,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-700 flex items-center"},[t("i",{class:"bi bi-exclamation-triangle-fill mr-2 text-yellow-500"}),c(" Đăng nhập bất thường ")],-1)),(i(!0),n(x,null,_(P.value,s=>(i(),n("div",{key:s.date,class:"bg-yellow-50 p-3 rounded-md mb-3"},[t("div",Z,[t("div",null,[e[13]||(e[13]=t("p",{class:"font-medium text-yellow-800"},"Phát hiện đăng nhập lạ",-1)),t("p",tt,[c(" Địa điểm: "+a(s.location)+" ",1),t("span",et,"IP: "+a(s.ipAddress),1)]),t("p",st,a(s.date),1)])])]))),128))]),t("div",lt,[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-700 flex items-center"},[t("i",{class:"bi bi-laptop mr-2"}),c(" Thiết bị đang hoạt động ")],-1)),(i(!0),n(x,null,_(p.value,s=>(i(),n("div",{key:s.type+s.browser,class:"flex items-center justify-between p-4 border-b"},[t("div",null,[t("div",ot,[t("span",at,a(s.type),1),t("span",nt,a(s.browser),1),c(" "+a(s.current?"(Thiết bị hiện tại)":""),1)]),t("p",it,[c(" Vị trí: "+a(s.location)+" ",1),t("span",rt,"Hoạt động lần cuối: "+a(s.lastActive),1)])]),s.current?f("",!0):(i(),n("button",{key:0,onClick:ct=>E(s),class:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition"}," Đăng xuất ",8,dt))]))),128))])])]),_:1}),g(A,{open:k.value},null,8,["open"])],64)}}};export{bt as default};
