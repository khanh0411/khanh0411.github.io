import{r as d,c as n,k as u,l as E,F as p,j as A,o as r,a as t,Q as h,D as a,R as x,z as g,b as c,q as w,E as m}from"./index-Bn7OaRaH.js";import{P as $}from"./ProfileView-Cc7oOC9X.js";const M={class:"container mx-auto px-4 py-8"},F={class:"bg-white shadow-md rounded-lg p-6 mb-6"},S={class:"space-y-4"},T={class:"bg-white shadow-md rounded-lg p-6 mb-6"},N={class:"flex justify-between items-center mb-4"},B={class:"flex items-center"},D={class:"mr-3 text-gray-600"},H={key:0,class:"mt-4"},L={class:"flex space-x-4 mb-4"},j={key:0,class:"space-y-2"},X={class:"text-gray-600"},q={key:1,class:"space-y-2"},U={class:"text-gray-600"},z={class:"bg-white shadow-md rounded-lg p-6 mb-6"},I={class:"flex justify-between items-center"},G={class:"text-sm text-gray-600"},Q={class:"ml-2"},R={class:"text-xs text-gray-500"},J={class:"bg-white shadow-md rounded-lg p-6"},K={class:"flex items-center"},O={class:"font-semibold mr-2"},W={class:"text-sm text-gray-500"},Y={class:"text-sm text-gray-500"},Z={class:"ml-2"},tt=["onClick"],at={__name:"AccountSecurityView",setup(et){const v=d(!1),l=d({currentPassword:"",newPassword:"",confirmPassword:""}),o=d({isEnabled:!1,method:"email",email:"user@example.com",phoneNumber:"+84 123 456 789"}),f=d([{date:"2024-01-15 14:30",location:"Ho Chi Minh City, Vietnam",ipAddress:"192.168.1.100"},{date:"2024-01-10 09:45",location:"Hanoi, Vietnam",ipAddress:"203.162.10.55"}]),b=d([{type:"Desktop",browser:"Chrome",lastActive:"2024-01-15 15:20",current:!0,location:"Ho Chi Minh City"},{type:"Mobile",browser:"Safari",lastActive:"2024-01-14 22:10",current:!1,location:"Hanoi"}]);function _(){return l.value.newPassword!==l.value.confirmPassword?(m({text:"Mật khẩu mới không khớp",type:"error"}),!1):l.value.newPassword.length<8?(m({text:"Mật khẩu phải có ít nhất 8 ký tự",type:"error"}),!1):!0}function k(){_()&&(m({text:"Đổi mật khẩu thành công",type:"success"}),l.value.currentPassword="",l.value.newPassword="",l.value.confirmPassword="")}function P(){o.value.isEnabled=!o.value.isEnabled,m({text:`Đã ${o.value.isEnabled?"kích hoạt":"tắt"}  xác thực 2 yếu tố`,type:"success"})}function y(i){o.value.method=i}function V(i){b.value=b.value.filter(e=>e!==i),m({text:`Đã đăng xuất thiết bị ${i.type} ${i.browser}`,type:"success"})}return(i,e)=>{const C=A("FullScreenLoading");return r(),n(p,null,[u($,null,{default:E(()=>[t("div",M,[e[13]||(e[13]=t("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"Bảo mật Tài khoản",-1)),t("div",F,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-700"},"Thay đổi mật khẩu",-1)),t("div",S,[t("div",null,[e[5]||(e[5]=t("label",{class:"block mb-2 text-gray-600"},"Mật khẩu hiện tại",-1)),u(h,{modelValue:l.value.currentPassword,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.currentPassword=s),type:"password",placeholder:"Enter your Password",class:"mt-3 invalid:border-red-500"},null,8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block mb-2 text-gray-600"},"Mật khẩu mới",-1)),u(h,{modelValue:l.value.newPassword,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.newPassword=s),type:"password",placeholder:"Enter your Password",class:"mt-3 invalid:border-red-500"},null,8,["modelValue"])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block mb-2 text-gray-600"},"Xác nhận mật khẩu mới",-1)),u(h,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.confirmPassword=s),type:"password",placeholder:"Enter your Password",class:"mt-3 invalid:border-red-500"},null,8,["modelValue"])]),t("button",{onClick:k,class:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"}," Đổi mật khẩu ")])]),t("div",T,[t("div",N,[e[9]||(e[9]=t("h2",{class:"text-xl font-semibold text-gray-700"},"Xác thực 2 yếu tố",-1)),t("div",B,[t("span",D,a(o.value.isEnabled?"Đã bật":"Chưa bật"),1),t("button",{onClick:P,class:x(`px-3 py-1 rounded-full text-white transition ${o.value.isEnabled?"bg-green-500":"bg-red-500"}`)},a(o.value.isEnabled?"Tắt":"Bật"),3)])]),o.value.isEnabled?(r(),n("div",H,[t("div",L,[t("button",{onClick:e[3]||(e[3]=s=>y("email")),class:x(`flex-1 py-2 rounded-md transition ${o.value.method==="email"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`)}," Xác thực qua Email ",2),t("button",{onClick:e[4]||(e[4]=s=>y("phone")),class:x(`flex-1 py-2 rounded-md transition ${o.value.method==="phone"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`)}," Xác thực qua Số điện thoại ",2)]),o.value.method==="email"?(r(),n("div",j,[t("p",X,"Email xác thực: "+a(o.value.email),1)])):(r(),n("div",q,[t("p",U,"Số điện thoại: "+a(o.value.phoneNumber),1)]))])):g("",!0)]),t("div",z,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-700 flex items-center"},[t("i",{class:"bi bi-exclamation-triangle-fill mr-2 text-yellow-500"}),c(" Đăng nhập bất thường ")],-1)),(r(!0),n(p,null,w(f.value,s=>(r(),n("div",{key:s.date,class:"bg-yellow-50 p-3 rounded-md mb-3"},[t("div",I,[t("div",null,[e[10]||(e[10]=t("p",{class:"font-medium text-yellow-800"},"Phát hiện đăng nhập lạ",-1)),t("p",G,[c(" Địa điểm: "+a(s.location)+" ",1),t("span",Q,"IP: "+a(s.ipAddress),1)]),t("p",R,a(s.date),1)])])]))),128))]),t("div",J,[e[12]||(e[12]=t("h2",{class:"text-xl font-semibold mb-4 text-gray-700 flex items-center"},[t("i",{class:"bi bi-laptop mr-2"}),c(" Thiết bị đang hoạt động ")],-1)),(r(!0),n(p,null,w(b.value,s=>(r(),n("div",{key:s.type+s.browser,class:"flex items-center justify-between p-4 border-b"},[t("div",null,[t("div",K,[t("span",O,a(s.type),1),t("span",W,a(s.browser),1),c(" "+a(s.current?"(Thiết bị hiện tại)":""),1)]),t("p",Y,[c(" Vị trí: "+a(s.location)+" ",1),t("span",Z,"Hoạt động lần cuối: "+a(s.lastActive),1)])]),s.current?g("",!0):(r(),n("button",{key:0,onClick:st=>V(s),class:"px-3 py-1 bg-red-500 text-white rounded-md hover:bg-red-600 transition"}," Đăng xuất ",8,tt))]))),128))])])]),_:1}),u(C,{open:v.value},null,8,["open"])],64)}}};export{at as default};
